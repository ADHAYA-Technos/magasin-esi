{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ACER NITRO\\\\OneDrive\\\\Bureau\\\\ADHAYA_Magasin_ESI\\\\magasin-esi\\\\client\\\\src\\\\pages\\\\LoginSignUp\\\\LoginSignUp.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport assets from '../../assets';\nimport axios from 'axios';\nimport './LoginSignUp.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginSignUp = props => {\n  _s();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const handleLogin = async () => {\n    try {\n      console.log(username, password);\n      const response = await axios.post('/login', {\n        username,\n        password\n      });\n      const isAdmin = response.data.isAdmin;\n      if (isAdmin) {\n        // Redirect to admin dashboard\n        window.location.href = '/Admin';\n      } else {\n        window.location.href = '/';\n      }\n    } catch (error) {\n      console.error('Login failed:', error);\n      // Handle login failure\n    }\n  };\n  const handleLoginClick = () => {\n    if (action === 'Log In') {\n      handleLogin();\n    } else {\n      setAction('Log In');\n    }\n  };\n  const handleRegister = async () => {\n    try {\n      const response = await axios.post('/register', {\n        username,\n        password\n      });\n      // Handle registration success, e.g., show a message to the user\n      console.log('Registration successful:', response.data);\n    } catch (error) {\n      console.error('Registration failed:', error);\n      // Handle registration failure\n    }\n  };\n  const handleSubmit = () => {\n    if (action === 'Log In') {\n      handleLogin();\n    } else if (action === 'Sign Up') {\n      handleRegister();\n    }\n  };\n  const toggleAction = () => {\n    setAction(action === 'Log In' ? 'Sign Up' : 'Log In');\n  };\n  const [action, setAction] = useState(\"Sign Up\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text\",\n        children: action\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"underline\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"inputs\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: assets.image.email,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"Email\",\n          value: username,\n          onChange: e => setUsername(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: assets.image.password,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          value: password,\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"submit-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"submit\",\n        onClick: handleSubmit,\n        children: action === 'Log In' ? 'Log in' : 'Sign up'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"toggle-action\",\n        onClick: toggleAction,\n        children: action === 'Log In' ? 'Sign up' : 'Log in'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n};\n_s(LoginSignUp, \"6pZwQqoDE+DOTxi/bcV+l4tc3y0=\");\n_c = LoginSignUp;\nexport default LoginSignUp;\nvar _c;\n$RefreshReg$(_c, \"LoginSignUp\");","map":{"version":3,"names":["React","useState","assets","axios","jsxDEV","_jsxDEV","LoginSignUp","props","_s","username","setUsername","password","setPassword","handleLogin","console","log","response","post","isAdmin","data","window","location","href","error","handleLoginClick","action","setAction","handleRegister","handleSubmit","toggleAction","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","image","email","alt","type","placeholder","value","onChange","e","target","onClick","_c","$RefreshReg$"],"sources":["C:/Users/ACER NITRO/OneDrive/Bureau/ADHAYA_Magasin_ESI/magasin-esi/client/src/pages/LoginSignUp/LoginSignUp.tsx"],"sourcesContent":["import React, { useState } from 'react'\nimport assets from '../../assets';\nimport axios from 'axios';\nimport './LoginSignUp.css'\ntype Props = {}\n\nconst LoginSignUp = (props: Props) => {\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n\n    \n    const handleLogin = async () => {\n        try {\n            console.log(username, password);\t\n          const response = await axios.post('/login', { username, password });\n          const isAdmin = response.data.isAdmin;\n          if (isAdmin) {\n            // Redirect to admin dashboard\n            window.location.href = '/Admin';\n          } else {\n            window.location.href = '/';\n          }\n        } catch (error) {\n          console.error('Login failed:', error);\n          // Handle login failure\n        }\n      };  \n      const handleLoginClick = () => {\n        if (action === 'Log In') {\n          handleLogin();\n        } else {\n          setAction('Log In');\n        }\n      };\n      const handleRegister = async () => {\n        try {\n            const response = await axios.post('/register', { username, password });\n            // Handle registration success, e.g., show a message to the user\n            console.log('Registration successful:', response.data);\n        } catch (error) {\n            console.error('Registration failed:', error);\n            // Handle registration failure\n        }\n    };\n\n    \n    const handleSubmit = () => {\n        if (action === 'Log In') {\n            handleLogin();\n        } else if (action === 'Sign Up') {\n            handleRegister();\n        }\n    };\n\n    const toggleAction = () => {\n        setAction(action === 'Log In' ? 'Sign Up' : 'Log In');\n    };\n\n    const [action,setAction] =useState(\"Sign Up\");\n  return (\n        <div className='container'>\n            <div className='header'>\n                <div className='text'>{action}</div>\n                <div className='underline'></div>\n            </div>\n            <div className='inputs'>\n                <div className='input'>\n                    <img src={assets.image.email} alt='' />\n                    <input type='email' placeholder='Email' value={username} onChange={(e) => setUsername(e.target.value)} />\n                </div>\n                <div className='input'>\n                    <img src={assets.image.password} alt='' />\n                    <input type='password' placeholder='Password' value={password} onChange={(e) => setPassword(e.target.value)} />\n                </div>\n            </div>\n            <div className='submit-container'>\n                <div className='submit' onClick={handleSubmit}>\n                    {action === 'Log In' ? 'Log in' : 'Sign up'}\n                </div>\n                <div className='toggle-action' onClick={toggleAction}>\n                    {action === 'Log In' ? 'Sign up' : 'Log in'}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default LoginSignUp;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}